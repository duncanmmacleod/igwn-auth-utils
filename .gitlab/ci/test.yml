# ---------------------------
# Testing workflow
# ---------------------------

# test template used in other jobs
# see python.yml for example

.test:
  extends:
    # https://computing.docs.ligo.org/gitlab-ci-templates/python/#.python:pytest
    - .python:pytest
  stage: Testing
  variables:
    # target for coverage
    COVERAGE_TARGET: "igwn_auth_utils"
    # don't need the git repo
    GIT_STRATEGY: none
    # configure pytest
    PYTEST_OPTIONS: "-ra -v --pyargs igwn_auth_utils.tests"
    # use python3
    PYTHON: "python3"
